.\" Man page generated from reStructuredText.
.
.TH "MEMCACHED_RESULT_VALUE" "3" "July 03, 2018" "1.1.0" "libmemcached"
.SH NAME
memcached_result_value \- Working with result sets
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
#include <libmemcached/memcached_pool.h>
.INDENT 0.0
.TP
.B memcached_result_st
.UNINDENT
.INDENT 0.0
.TP
.B \fI\%memcached_result_st\fP * memcached_result_create(memcached_st\fI\ *ptr\fP, \fI\%memcached_result_st\fP\fI\ *result\fP)
.UNINDENT
.INDENT 0.0
.TP
.B void memcached_result_free(\fI\%memcached_result_st\fP\fI\ *result\fP)
.UNINDENT
.INDENT 0.0
.TP
.B const char * memcached_result_key_value(\fI\%memcached_result_st\fP\fI\ *result\fP)
.UNINDENT
.INDENT 0.0
.TP
.B size_t memcached_result_key_length(const \fI\%memcached_result_st\fP\fI\ *result\fP)
.UNINDENT
.INDENT 0.0
.TP
.B const char *memcached_result_value(\fI\%memcached_result_st\fP\fI\ *ptr\fP)
.UNINDENT
.INDENT 0.0
.TP
.B char *memcached_result_take_value(\fI\%memcached_result_st\fP\fI\ *ptr\fP)
.UNINDENT
.INDENT 0.0
.TP
.B size_t memcached_result_length(const \fI\%memcached_result_st\fP\fI\ *ptr\fP)
.UNINDENT
.INDENT 0.0
.TP
.B uint32_t memcached_result_flags(const \fI\%memcached_result_st\fP\fI\ *result\fP)
.UNINDENT
.INDENT 0.0
.TP
.B uint64_t memcached_result_cas(const \fI\%memcached_result_st\fP\fI\ *result\fP)
.UNINDENT
.INDENT 0.0
.TP
.B memcached_return_t memcached_result_set_value(\fI\%memcached_result_st\fP\fI\ *ptr\fP, const char\fI\ *value\fP, size_t\fI\ length\fP)
.UNINDENT
.INDENT 0.0
.TP
.B void memcached_result_set_flags(\fI\%memcached_result_st\fP\fI\ *ptr\fP, uint32_t\fI\ flags\fP)
.UNINDENT
.INDENT 0.0
.TP
.B void memcached_result_set_expiration(\fI\%memcached_result_st\fP\fI\ *ptr\fP, time_t)
.UNINDENT
.sp
Compile and link with \-lmemcachedutil \-lmemcached
.SH DESCRIPTION
.sp
libmemcached(3) can optionally return a \fI\%memcached_result_st\fP which
acts as a result object. The result objects have added benefits over the
character pointer returns, in that they are forward compatible with new
return items that future memcached servers may implement (the best current
example of this is the CAS return item). The structures can also be reused,
which will save on calls to malloc(3). It is suggested that you use result
objects over char * return functions.
.sp
The structure of \fI\%memcached_result_st\fP has been encapsulated, you should
not write code to directly access members of the structure.
.sp
\fI\%memcached_result_create()\fP will either allocate memory for a
\fI\%memcached_result_st\fP or will initialize a structure passed to it.
.sp
\fI\%memcached_result_free()\fP will deallocate any memory attached to the
structure. If the structure was also allocated, it will deallocate it.
.sp
\fI\%memcached_result_key_value()\fP returns the key value associated with the
current result object.
.sp
\fI\%memcached_result_key_length()\fP returns the key length associated with
the current result object.
.sp
\fI\%memcached_result_value()\fP returns the result value associated with the
current result object.
.sp
\fI\%memcached_result_take_value()\fP returns and hands over the result value
associated with the current result object. You must call free() to release this
value, unless you have made use of a custom allocator. Use of a custom
allocator requires that you create your own custom free() to release it.
.sp
\fI\%memcached_result_length()\fP returns the result length associated with
the current result object.
.sp
\fI\%memcached_result_flags()\fP returns the flags associated with the
current result object.
.sp
\fI\%memcached_result_cas()\fP returns the cas associated with the
current result object. This value will only be available if the server
tests it.
.sp
\fI\%memcached_result_set_value()\fP takes a byte array and a size and sets
the result to this value. This function is used for trigger responses.
.sp
\fI\%memcached_result_set_flags()\fP takes a result structure and stores a new
value for the flags field.
.sp
\fI\%memcached_result_set_expiration()\fP takes a result structure and stores
a new value for the expiration field (this is only used by read through
triggers).
.sp
You may wish to avoid using memcached_result_create(3) with a
stack based allocation. The most common issues related to ABI safety involve
heap allocated structures.
.SH RETURN
.sp
Varies, see particular functions. All structures must have
\fI\%memcached_result_free()\fP called on them for cleanup purposes. Failure
to do this will result in leaked memory.
.SH HOME
.sp
To find out more information please check:
\fI\%http://libmemcached.org/\fP
.SH SEE ALSO
.sp
\fImemcached(1)\fP \fIlibmemcached(3)\fP \fImemcached_strerror(3)\fP
.SH AUTHOR
Brian Aker
.SH COPYRIGHT
2011-2013, Brian Aker DataDifferential, http://datadifferential.com/
.\" Generated by docutils manpage writer.
.
